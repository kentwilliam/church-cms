@import "mixins/fill_parent"
@import "mixins/constants"

*
  box-sizing: border-box

body
  font-family: $theme-font-display

p
  font-family: $theme-font-content

button,
.button
  background: $theme-red
  color: white
  text-transform: uppercase
  border: 0
  border-radius: 0
  font-weight: normal
  font-size: 15px
  display: inline-block
  padding: 4px 20px 2px
  height: auto
  text-decoration: none

  &:hover
    background-color: $theme-red-hover
    color: white

.home-section
  min-height: 310px
  background: $theme-light-gray
  margin-bottom: $section-margin
  position: relative
  padding: 40px

  &:last-child
    margin-bottom: 0

.hero
  min-height: 674px
  background: $theme-dark-gray

.menu
  width: 480px
  height: 240px
  overflow: hidden
  padding: 21px 0 0 270px
  background: $theme-menu-background
  font-weight: normal
  position: absolute
  left: 50%
  margin-left: -240px
  bottom: 40px
  transition: 0.4s
  z-index: 10

  // Only used on smaller resolutions
  .toggle
    display: none

  .disable-screen &
    opacity: 0

  .logo
    position: absolute
    top: 0
    left: 0
    width: 240px
    height: 240px
    background: $theme-red
    color: white
    font-size: 21px
    background-image: image_url("logo.png")
    background-position: center 32px
    background-repeat: no-repeat
    background-size: 110px 109px
    text-align: center
    text-transform: uppercase
    padding-top: 148px
    cursor: pointer

    &:hover
      background-color: $theme-red-hover

    em, span
      display: block

    em
      font-style: normal
      font-size: 44.7px
      font-weight: 100
      letter-spacing: 0.6px
      font-weight: $light

    span
      font-size: 14px
      letter-spacing: 0.4px
      opacity: 0.7
      font-weight: normal
      margin-top: -5px

  a
    display: block
    text-decoration: none
    color: white
    text-transform: uppercase
    font-size: 21px
    height: 45px
    transition: .2s

    &:not(.is-active):hover
      opacity: 0.7

    &.is-active
      box-shadow: inset 0 -5px 0 $theme-light-gray
      cursor: default

  .is-scrolled &
    opacity: 0

  .scrolled-menu &,
  .static-menu &
    width: auto
    height: $menu-height
    opacity: 0
    left: 0
    top: 0
    right: 0
    background: $theme-menu-background-darker
    padding: 0 20px 0 70px
    margin: 0
    vertical-align: top
    text-align: center
    border-right: 50px solid rgba(255,255,255,0.2)

    @media (min-width: 700px)
      position: fixed
      z-index: 10

    .logo
      position: absolute
      width: 50px
      height: 50px
      background-size: 34px 34px
      background-position: center center
      padding: 0
      color: rgba(0,0,0,0)
      margin-right: 10px

      *
        display: none

    a
      display: inline-block
      vertical-align: top
      line-height: 40px
      font-size: 18px
      margin: 5px 15px 0

    .is-scrolled &
      opacity: 1

  .static-menu &
    opacity: 1

  @media (max-width: 1000px)
    .static-menu &,
    .scrolled-menu &
      a
        font-size: 14px
        margin-left: 8px
        margin-right: 8px

  @media (max-width: 699px)
    .static-menu &,
    .scrolled-menu &
      border: 0
      overflow: hidden
      height: auto
      padding: 0
      background: none
      height: 100px

      .content
        display: none
        height: 50px
        overflow: hidden
        background: $theme-light-gray
        pointer-events: none

        > *
          opacity: 0

      &.is-active .content
        height: 320px
        padding: 10px 0
        background: $theme-menu-background-darker
        pointer-events: all

      .toggle
        display: block
        position: absolute
        top: 15px
        right: 15px
        color: transparent
        width: 64px
        height: 64px
        border-radius: 50%

        &:hover
          background: $theme-red

        &:before
          content: ''
          background-image: image_url("logo.png")
          background-position: center center
          background-repeat: no-repeat
          background-size: 40px 40px
          position: absolute
          top: 0
          left: 0
          right: 0
          bottom: 0

      // &.is-active .toggle
      //   background: $theme-dark-gray
      //   &:before
      //     content: 'Ã—'
      //     font-size: 40px
      //     text-align: center
      //     color: white
      //     background: none
      //     top: 12px

      // .content
      //   pointer-events: none
      //   opacity: 0.3

      &.is-active .content
        pointer-events: all
        opacity: 1

      .logo
        width: 100%
        display: none

      h1,
      a
        display: block

      a
        font-size: 18px

      a.is-active
        box-shadow:  none
        opacity: 0.6

.hero .video
  @extend %fill-parent
  cursor: pointer

  &:before
    content: ""
    @extend %fill-parent
    background: rgba(60, 60, 60, 0.8)
    transition: 0.2s
    // TODO: Temporary
    display: none

.hero:not(.disable-screen) .video:before
  background: rgba(60, 60, 60, 0.5)

.disable-screen .video:before
  background: rgba(60, 60, 60, 0)

.newsletter
  background: $theme-dark-gray

.about
  background: $theme-red

.im-new,
.newsletter,
.about,
.calendar
  text-align: center
  padding-top: 100px
  font-size: 80px
  color: rgba(255, 255, 255, 0.3)
  font-weight: $light

.home-section .content
  max-width: $max-content-width
  margin: 0 auto

  @media (min-width: 900px)
    display: flex
    justify-content: stretch

.im-new,
.about
  padding-top: 0
  overflow: hidden

  @media (max-width: 899px)
    .segment
      padding-bottom: 90px

  @media (min-width: 900px)
    p
      min-height: 140px

  h2, h3
    clear: left

.im-new
  color: $theme-text-body-copy-color

  .content
    padding-top: 60px

  &:before
    content: "I'm new"
    text-transform: uppercase
    position: absolute
    bottom: -15vw
    left: 0
    font-size: 26vw
    color: white
    text-align: left
    white-space: nowrap

.newsletter
  font-size: 50px
  padding-top: 60px
  min-height: 200px

.segment
  position: relative
  flex: 1
  padding-right: 5%
  padding-bottom: 10px

  @media (max-width: 900px)
    padding-bottom: 40px

  h2,
  p
    text-align: left

  h2
    font-size: 30px
    font-weight: 600

  p
    font-size: 16px
    font-family: sans-serif
    line-height: 1.9em

  button, .button
    width: auto
    float: left

.about
  color: white
  padding-top: 166px

  .content
    padding-top: 20px
    padding-bottom: 0

  @media (min-width: 900px)
    p
      min-height: 160px

  &:before
    content: "About Us"
    text-transform: uppercase
    position: absolute
    left: 0
    font-size: 20.5vw
    color: $theme-text-body-copy-color
    text-align: left
    white-space: nowrap
    top: 1vw

    @media (min-width: 900px)
      top: -2vw
    @media (min-width: 1100px)
      top: -4vw

  .button
    background-color: darken($theme-red, 15)

    &:hover
      box-shadow: inset 0 0 0 1px white

  @media (max-width: 699px)
    .segment
      padding-right: 28px

  .screen
    @extend %fill-parent
    top: 130px
    background: transparentize($theme-red, 0.1)

.calendar
  padding: 30px
  height: 50vw

  h2
    text-transform: uppercase
    font-style: italic
    font-weight: bold
    color: white
    font-size: 100px
    line-height: 50px

    @media (max-width: 699px)
      font-size: 46px
      line-height: 30px
      position: relative
      top: -18px

  .video
    @extend %fill-parent
    top: 100px

    @media (max-width: 699px)
      top: 50px

.photos-1,
.photos-2,
.splash
  background-image: image_url("photos-1.jpg")
  background-size: 100%
  background-position: center center
  min-height: 0
  height: 22vw

.photos-2
  background-image: image_url("photos-2.jpg")
  height: 20vw

.splash
  background-image: image_url("panel-quiet-church.jpg")
  height: 48vw
  background-repeat: no-repeat
  background-color: $theme-red

.footer
  background: mix($theme-dark-gray, black)
  color: white
  min-height: 200px
  padding: $page-gutter

  .content
    display: flex

    div
      flex: 1

    div:not(:last-child)
      padding-right: 30px

    div:last-child
      flex: none
      text-align: right
      opacity: 0.5

  a
    color: white
    text-decoration: none
    font-size: 16px
    display: inline-block
    margin-right: 1em

    @media (max-width: 699px)
      display: block
      padding: 5px 0

    &.is-active
      opacity: 0.7
      cursor: default

    &:hover
      opacity: 0.8
